# for this to work you must configure sudo such that
# it will be able to run the command without password
# ___________________________
  yabai -m signal --add event=dock_did_restart action="sudo yabai --load-sa"
  sudo yabai --load-sa

# ___________________________
# Focus (Options: off, autoraise, autofocus)
  yabai -m config focus_follows_mouse     autoraise
  yabai -m config mouse_follows_focus     on
  yabai -m window --focus                 mouse

# ___________________________
# Layout and spacing
  yabai -m config external_bar all:32:0
  yabai -m config layout          bsp
  yabai -m config top_padding     18
  yabai -m config bottom_padding  18
  yabai -m config left_padding    18
  yabai -m config right_padding   18
  yabai -m config window_gap      10

#___________________________
# Window appearance
  yabai -m config menubar_opacity        0.80
  yabai -m config window_opacity         on
  yabai -m config active_window_opacity  1.0
  yabai -m config normal_window_opacity  0.94
  yabai -m config window_shadow          float

# ___________________________
# Animation
  yabai -m config window_animation_duration  0.4
  yabai -m config window_animation_easing 

# ___________________________
 # Enable window manipulation with the mouse
  yabai -m config mouse_modifier cmd
  yabai -m config mouse_action1 move
  yabai -m config mouse_action2 resize

# ___________________________
# Dragging windows on top of each other creates stacking mode (instead of tiling)
  yabai -m config mouse_drop_action stack

# ___________________________
# global settings
  yabai -m config window_insertion_point       focused
  yabai -m config window_zoom_persist          on             
  yabai -m config insert_feedback_color        0xffd75f5f     
  yabai -m config split_ratio                  0.50           
  yabai -m config split_type                   auto           

# ___________________________
# Turn off auto-tiling for specific apps
  yabai -m rule --add app='System Preferences'  manage=off
  yabai -m rule --add app='BetterTouchTool'     manage=off
  yabai -m rule --add app='System Settings'     manage=off
  yabai -m rule --add app='Shadow PC Beta'      manage=off
  yabai -m rule --add app='Perplexity'          manage=off
  yabai -m rule --add app='Font Book'           manage=off
  yabai -m rule --add app='Bitwarden'           manage=off
  yabai -m rule --add app='App Store'           manage=off
  yabai -m rule --add app='Raycast'             manage=off
  yabai -m rule --add app='Preview'             manage=off
  yabai -m rule --add app='ChatGPT'             manage=off
  yabai -m rule --add app='Finder'              manage=off
  yabai -m rule --add app='VLC'                 manage=off

# ___________________________
  echo "yabai configuration loaded.."

# ___________________________
# Activating JankyBorders (~/.config/borders/)
  borders &
